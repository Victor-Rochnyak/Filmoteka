{"mappings":"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","sources":["src/js/gallery/local-st-load-remove-save.js","src/js/gallery/modal-for-library.js","src/js/library.js"],"sourcesContent":["// Принимает ключ `key` по которому будет произведена выборка.\nconst load = key => {\n  try {\n    let serializedState = localStorage.getItem(key);\n\n    return (serializedState = JSON.parse(serializedState) || undefined);\n  } catch (err) {\n    console.error('Get state error: ', err);\n  }\n};\n\n// Принимает ключ `key` и значение `value`.\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (err) {\n    console.error('Set state error: ', err);\n  }\n};\n\n// Принимает ключ `key`\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (err) {\n    console.error('Remove state error: ', err);\n  }\n};\n\nexport { load, save, remove };\n","import { load, save, remove } from './local-st-load-remove-save';\nimport { showListWatched } from '../library';\nimport { showListQueue } from '../library';\n\nconst galleryFilm = document.querySelector('.cards__list');\nconst modalEl = document.querySelector('.modal');\n\ngalleryFilm.addEventListener('click', onOpenModal);\nlet movie_id;\n// Ф-ція відкриття модалки\nfunction onOpenModal(evt) {\n  evt.preventDefault();\n  if (\n    evt.target.nodeName !== 'IMG' &&\n    evt.target.nodeName !== 'P' &&\n    evt.target.nodeName !== 'A'\n  ) {\n    return;\n  }\n\n  evt.stopPropagation();\n  closeEsc();\n  modalEl.classList.add('is-open');\n\n  document.body.classList.add('stop-scrolling');\n\n  // const movie_id = evt.target.dataset.id;\n  movie_id = evt.target.dataset.id;\n\n  // ____________local st----закидаєм картку фільму в LS\n\n  const watchListJson = load('watched');\n  const queueListJson = load('queue');\n\n  const filmForLibrary = watchListJson.concat(queueListJson);\n\n  const oneFilmById = filmForLibrary.find(film => film.id === Number(movie_id));\n\n  // ____________local st----\n\n  murckupCard(oneFilmById);\n  closeBtn();\n  backdropClose();\n\n  // --------test-btn--------------\n  const btnWatchEl = document.querySelector('.btn__watch');\n  const btnQueueEl = document.querySelector('.btn__queue');\n\n  btnWatchEl.addEventListener('click', onLibraruWatch);\n  btnQueueEl.addEventListener('click', onLibraruQueue);\n\n  // відпрацювання кнопки проглянуте\n  function onLibraruWatch(ev) {\n    const btnEl = ev.target;\n\n    if (!load('watched')) {\n      const firstLocalSt = save('watched', []);\n    }\n\n    if (btnEl.getAttribute('data-show') === 'true') {\n      addWatchedLocalStorage(oneFilmById);\n    }\n    if (btnEl.getAttribute('data-show') === 'false') {\n      removeFromWatchedList(movie_id);\n    }\n\n    changeTextBtnWatch(btnEl);\n    showListWatched(ev);\n  }\n\n  function onLibraruQueue(ev) {\n    const btnEl = ev.target;\n\n    if (!load('queue')) {\n      const firstLocalSt = save('queue', []);\n    }\n\n    if (btnEl.getAttribute('data-show') === 'true') {\n      addQueueLocalStorage(oneFilmById);\n    }\n    if (btnEl.getAttribute('data-show') === 'false') {\n      removeFromQueueList(movie_id);\n    }\n\n    changeTextBtnQueue(btnEl);\n    showListQueue(ev);\n  }\n  // --------test-btn--------------\n}\nlet arrayFilmsWatched = [];\nlet localWatchListJson = [];\nlet watchList = [];\n\nfunction addWatchedLocalStorage(obj) {\n  // перевірка, чи є вже ця картка в сховищі\n\n  localWatchListJson = load('watched');\n\n  if (localWatchListJson) {\n    watchList = localWatchListJson;\n  }\n\n  let index1 = watchList.findIndex(film => film.id === Number(movie_id));\n  if (index1 != -1) {\n    return;\n  }\n\n  // перевірка, чи є вже ця картка в сховищі\n\n  arrayFilmsWatched = localWatchListJson;\n\n  arrayFilmsWatched.push(obj);\n\n  localStorage.setItem('watched', JSON.stringify(arrayFilmsWatched));\n\n  return arrayFilmsWatched;\n}\nfunction removeFromWatchedList(id) {\n  localWatchListJson = load('watched');\n\n  if (localWatchListJson) {\n    watchList = localWatchListJson;\n  }\n\n  remove('watched');\n\n  let index = watchList.findIndex(film => film.id === Number(movie_id));\n\n  watchList.splice(index, 1);\n  save('watched', watchList);\n}\n\n// ________ Add Remove QUEUE\n\nlet arrayFilmsQueue = [];\nlet localQueueListJson = [];\nlet queueList = [];\n\nfunction addQueueLocalStorage(obj) {\n  // перевірка, чи є вже ця картка в сховищі\n\n  localQueueListJson = load('queue');\n\n  if (localQueueListJson) {\n    queueList = localQueueListJson;\n  }\n\n  let index1 = queueList.findIndex(film => film.id === Number(movie_id));\n  if (index1 != -1) {\n    return;\n  }\n\n  // перевірка, чи є вже ця картка в сховищі\n\n  arrayFilmsQueue = localQueueListJson;\n\n  arrayFilmsQueue.push(obj);\n\n  localStorage.setItem('queue', JSON.stringify(arrayFilmsQueue));\n\n  return arrayFilmsQueue;\n}\nfunction removeFromQueueList(id) {\n  localQueueListJson = load('queue');\n\n  if (localQueueListJson) {\n    queueList = localQueueListJson;\n  }\n\n  remove('queue');\n\n  let index = queueList.findIndex(film => film.id === Number(movie_id));\n\n  queueList.splice(index, 1);\n  save('queue', queueList);\n}\n// ________ Add Remove QUEUE\n\n//  Ф-ції зміни тексту на кнопках\nfunction changeTextBtnQueue(btnEl) {\n  if (btnEl.getAttribute('data-show') === 'true') {\n    btnEl.innerText = 'Remove from queue';\n    btnEl.setAttribute('data-show', 'false');\n  } else {\n    btnEl.innerText = 'Add to queue';\n    btnEl.setAttribute('data-show', 'true');\n  }\n}\nfunction changeTextBtnWatch(btnEl) {\n  if (btnEl.getAttribute('data-show') === 'true') {\n    btnEl.innerText = 'Remove from watched';\n    btnEl.setAttribute('data-show', 'false');\n  } else {\n    btnEl.innerText = 'Add to watched';\n    btnEl.setAttribute('data-show', 'true');\n  }\n}\n\n// Ф-ція закриття модалки\nfunction onCloseBtn() {\n  modalEl.classList.remove('is-open');\n  document.body.classList.remove('stop-scrolling');\n}\nfunction closeBtn() {\n  const btnModalClos = document.querySelector('.close__button__modal');\n  btnModalClos.addEventListener('click', () => onCloseBtn());\n}\n// Close modal by Escape\nfunction closeEsc() {\n  window.addEventListener('keydown', closeModalByEsc);\n  function closeModalByEsc(e) {\n    if (e.code === 'Escape') {\n      onCloseBtn();\n      window.removeEventListener('keydown', closeModalByEsc);\n    }\n  }\n}\n\n// Close modal backdrop\nfunction backdropClose() {\n  const backdropEl = document.querySelector('.modal__backdrop');\n  backdropEl.addEventListener('click', onBackdropClick);\n  function onBackdropClick(evt) {\n    if (evt.currentTarget === evt.target) {\n      onCloseBtn();\n      backdropEl.removeEventListener('click', onBackdropClick);\n    }\n  }\n}\n\n// render film card\nfunction genresList(array) {\n  let array_genre_names = [];\n  let genre_namess = '';\n\n  for (const id of array) {\n    try {\n      const genre_name = localStorage.getItem(`genre`);\n      const arrayAllGenres = JSON.parse(genre_name);\n      const arrayIdGenres = arrayAllGenres.find(genre => genre.id == id);\n\n      array_genre_names.push(arrayIdGenres.name || 'n/a');\n\n      genre_namess = array_genre_names.join(', ');\n    } catch (error) {\n      console.error('Set state error: ', error.message);\n    }\n  }\n  return genre_namess;\n}\nfunction setPosters(poster_path) {\n  if (poster_path === null || poster_path === 'undefined') {\n    return 'https://wipfilms.net/wp-content/data/posters/tt0338683.jpg';\n  }\n\n  return `https://www.themoviedb.org/t/p/w500${poster_path}`;\n}\n\n// Ф-ція рендеру кнопок модалки\n\nfunction btnChangeWatch() {\n  localWatchListJson = load('watched');\n\n  if (localWatchListJson) {\n    watchList = localWatchListJson;\n  }\n\n  let index = watchList.findIndex(film => film.id === Number(movie_id));\n  // перевіряєм чи знайшло фільм, тру якщо Є ФІЛЬМ\n  if (index != -1) {\n    return '<button type=\"button\" class=\"film__button btn__watch\" data-id=\"${id}\" data-show=\"false\">Remove from watched</button>';\n  } else {\n    return '<button type=\"button\" class=\"film__button btn__watch\" data-id=\"${id}\" data-show=\"true\">Add to watched</button>';\n  }\n}\nfunction btnChangeQueue() {\n  localQueueListJson = load('queue');\n  if (localQueueListJson) {\n    queueList = localQueueListJson;\n  }\n  let index = queueList.findIndex(film => film.id === Number(movie_id));\n  if (index != -1) {\n    return '<button type=\"button\" class=\"film__button btn__queue\" data-id=\"${id}\" data-show=\"false\">Remove from queue</button>';\n  } else {\n    return '<button type=\"button\" class=\"film__button btn__queue\" data-id=\"${id}\" data-show=\"true\">Add to queue</button>';\n  }\n}\n\nfunction murckupCard({\n  poster_path,\n  title,\n  vote_average,\n  vote_count,\n  popularity,\n  original_title,\n  overview,\n  genre_ids,\n  name,\n  id,\n}) {\n  return (modalEl.innerHTML = `\n  <div class='modal__backdrop'></div>\n\n  <div class='modal__container'>\n    <div class='film__image'>\n      <img\n        class='image'\n        src='${setPosters(poster_path)}'\n        alt='${title || name}'\n        title=''\n      />\n    </div>\n\n    <div class='film__information'>\n      <div>\n        <h2 class='film__title'>${title || name}</h2>\n\n        <ul>\n          <li class='film__item'>\n            <p class='film__details'>Vote / Votes</p>\n            <p class='film__info--uper'>\n            <span class='film__rating--orange'>${vote_average.toFixed(1)}</span>\n            <span class='film__rating--divider'> / </span>\n            <span>${vote_count}</span>\n          </p>\n          </li>\n          <li class='film__item'>\n            <p class='film__details'>Popularity</p>\n            <p class='film__info--uper'>${popularity}</p>\n          </li>\n          <li class='film__item'>\n            <p class='film__details'>Original title</p>\n            <p class='film__info--uper'>${original_title || name}</p>\n          </li>\n          <li class='film__item'>\n            <p class='film__details'>Genre</p>\n            <p class='film__about__text'>${genresList(genre_ids)}\n            </p>\n          </li>\n        </ul>\n      </div>\n      <div>\n        <h3 class='film__about__title'>About</h3>\n        <p class='film__about__text'>${overview}\n        </p>\n      </div>\n      <div class='film__button__wrapper'>${btnChangeWatch()}\n\n        ${btnChangeQueue()}\n      </div>\n      <button\n        type='button'\n        class='close__button__modal'\n        data-action='close-modal'\n      >\n       <svg width=\"30\" height=\"30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"position: absolute\"><path d=\"m8 8 14 14M8 22 22 8\" stroke=\"#000\" stroke-width=\"2\"/></svg>\n    </button>\n    </div>\n  </div>\n  `);\n}\n","import { load, save, remove } from './gallery/local-st-load-remove-save';\nimport './gallery/modal-for-library';\n\nconst libGalleryRef = document.querySelector('.cards__list');\nconst btnWatched = document.querySelector('.btnWatched');\nconst btnQueue = document.querySelector('.btnQueue');\n\nbtnWatched.addEventListener('click', showListWatched);\nbtnQueue.addEventListener('click', showListQueue);\n\n onLoad();\n\nexport function showListWatched(e) {\n  e.preventDefault();\n\n  libGalleryRef.innerHTML = '';\n  btnWatched.classList.add('activ');\n  btnQueue.classList.remove('activ');\n\n  const listWatched = load('watched');\n\n  if (!listWatched) {\n  }\n\n  Render(listWatched);\n}\n\nexport function showListQueue(e) {\n  e.preventDefault();\n\n  libGalleryRef.innerHTML = '';\n  btnWatched.classList.remove('activ');\n  btnQueue.classList.add('activ');\n\n  const listQueue = load('queue');\n\n  if (!listQueue) {\n  }\n  Render(listQueue);\n}\n\nfunction Render(obj) {\n  \n  //debugger; \n  const markup = obj\n    .map(\n      ({\n        title,\n        name,\n        poster_path,\n        genre_ids,\n        id,\n        release_date,\n        first_air_date,\n      }) => {\n        let date = (release_date || first_air_date || 'n/a ').slice(0, 4);\n        return `<div class=\"movie-card\">\n                <img width=\"100%\" height=\"402\" class=\"movie-card__img\"\n                src=\"${setPosters(poster_path)}\" alt=\"\" data-id=\"${id}\"\n                loading=\"lazy\"/>\n\n                <div class=\"info\">\n                    <p class=\"info-item\">\n                        <b>${title || name}</b>\n                    </p>\n                    <p class=\"info-item\">\n                        <b>${genresList(genre_ids)} | ${date}</b>                  \n                </div>\n            </div>`;\n      }\n    )\n    .join('');\n  libGalleryRef.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction setPosters(poster_path) {\n  if (poster_path === null || poster_path === undefined) {\n    return 'https://i.pinimg.com/originals/74/3d/b2/743db230d891b47c1d8c66b161111b91.jpg';\n  }\n  return `https://www.themoviedb.org/t/p/w500${poster_path}`;\n}\n\nfunction genresList(array) {\n  let genre_names = '';\n  let foundGenres = 0;\n  const arrGenres = JSON.parse(localStorage.getItem('genre'));\n  for (const id of array) {\n    const genre_name = arrGenres.find(genre => id === genre.id);\n    //const genre_name = localStorage.getItem(`genre_${id}`);\n    if (!genre_name) {\n      continue;\n    }\n    if (genre_names) {\n      genre_names += ', ';\n    }\n    if (foundGenres === 2) {\n      genre_names += 'Others';\n      break;\n    }\n\n    foundGenres += 1;\n    genre_names += genre_name.name;\n  }\n  if (!genre_names) {\n    genre_names = 'unknown';\n  }\n  return genre_names;\n}\n\nfunction onLoad() {\n  libGalleryRef.innerHTML = '';\n  let listWt = load('watched');\n  \n  if (listWt && listWt.length>0) {    \n    Render(listWt);\n    btnWatched.classList.add('activ');\n    return;\n  }\n\n  let listQue = load('queue');\n  \n  if (listQue && listQue.length>0) {\n    Render(listQue);\n    btnQueue.classList.add('activ');\n    return;\n  }  \n  libGalleryRef.innerHTML = ` <div class=\"wrong-box\"> <p class=\"wrong-text\">Not Found</p>        \n <img class=\"img-wrong\" src=\"https://s3.amazonaws.com/stickers.wiki/laughingCStickers/1291222.512.webp\"></div>`\n}\n\n\n\n\n"],"names":["$9af1d625eb4bd591$export$11e63f7b0f3d9900","key","serializedState","localStorage","getItem","JSON","parse","undefined","err","console","error","$9af1d625eb4bd591$export$a1544dad697b423d","value","stringify","setItem","$9af1d625eb4bd591$export$cd7f480d6b8286c3","removeItem","$3cdaab3d5cc386c4$var$galleryFilm","document","querySelector","$3cdaab3d5cc386c4$var$modalEl","$3cdaab3d5cc386c4$var$movie_id","addEventListener","evt","preventDefault","target","nodeName","stopPropagation","closeModalByEsc","e","code","$3cdaab3d5cc386c4$var$onCloseBtn","window","removeEventListener","$3cdaab3d5cc386c4$var$closeEsc","classList","add","body","dataset","id","watchListJson","queueListJson","oneFilmById","concat","find","film","Number","poster_path","title","vote_average","vote_count","popularity","original_title","overview","genre_ids","name","innerHTML","$3cdaab3d5cc386c4$var$setPosters","toFixed","array","array_genre_names","genre_namess","genre_name","arrayIdGenres","genre","push","join","message","$3cdaab3d5cc386c4$var$genresList","$3cdaab3d5cc386c4$var$localWatchListJson","$3cdaab3d5cc386c4$var$watchList","findIndex","$3cdaab3d5cc386c4$var$btnChangeWatch","$3cdaab3d5cc386c4$var$localQueueListJson","$3cdaab3d5cc386c4$var$queueList","$3cdaab3d5cc386c4$var$btnChangeQueue","$3cdaab3d5cc386c4$var$murckupCard","backdropEl","onBackdropClick","currentTarget","$3cdaab3d5cc386c4$var$backdropClose","btnWatchEl","btnQueueEl","ev","btnEl","getAttribute","obj","$3cdaab3d5cc386c4$var$arrayFilmsWatched","index","splice","$3cdaab3d5cc386c4$var$removeFromWatchedList","innerText","setAttribute","$3cdaab3d5cc386c4$var$changeTextBtnWatch","$1cafa503bc57b7a0$export$c8a29af874af5d6d","$3cdaab3d5cc386c4$var$arrayFilmsQueue","$3cdaab3d5cc386c4$var$removeFromQueueList","$3cdaab3d5cc386c4$var$changeTextBtnQueue","$1cafa503bc57b7a0$export$36c09851744f227d","remove","$1cafa503bc57b7a0$var$libGalleryRef","$1cafa503bc57b7a0$var$btnWatched","$1cafa503bc57b7a0$var$btnQueue","listWatched","$1cafa503bc57b7a0$var$Render","listQueue","markup","map","release_date","first_air_date","date","slice","$1cafa503bc57b7a0$var$setPosters","genre_names","foundGenres","arrGenres","$1cafa503bc57b7a0$var$genresList","insertAdjacentHTML","listWt","length","listQue","$1cafa503bc57b7a0$var$onLoad"],"version":3,"file":"header-library.e7b45ed2.js.map"}